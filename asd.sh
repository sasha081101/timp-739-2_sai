#!/bin/bash

# Выводим информацию
echo "Автор: Скарлухина Александра Игоревна"
echo "Название программы: job with file"
echo "Описание: программный скрипт, разработанный для упрощения создания, удаления и перемещения файлов"

# Бесконечный цикл
while true
do
    # Выводим подсказку
    echo "Выберите операцию: создать, удалить, переместить"
    
    # Считываем ввод пользователя
    read operation
    
    # Обрабатываем ввод пользователя
    case $operation in
        "создать")
            # Запрашиваем имя файла
            echo "Введите имя нового файла:"
            read filename
            
            # Проверяем, существует ли файл с таким именем
            if [ -e "$filename" ]
            then
                echo "Ошибка: файл с таким именем уже существует" >&2
            else
                # Создаем файл
                touch "$filename"
                echo "Файл $filename успешно создан"
            fi
            ;;
        "удалить")
            # Запрашиваем имя файла
            echo "Введите имя файла, который нужно удалить:"
            read filename
            
            # Проверяем, существует ли файл с таким именем
            if [ -e "$filename" ]
            then
                # Удаляем файл
                rm "$filename"
                echo "Файл $filename успешно удален"
            else
                echo "Ошибка: файл с таким именем не существует" >&2
            fi
            ;;
        "переместить")
            # Запрашиваем имя файла
            echo "Введите имя файла, который нужно переместить:"
            read filename
            
            # Проверяем, существует ли файл с таким именем
            if [ -e "$filename" ]
            then
                # Запрашиваем путь к каталогу
                echo "Введите путь к каталогу, в который нужно переместить файл:"
                read directory
                
                # Проверяем, существует ли каталог
                if [ -d "$directory" ]
                then
                    # Перемещаем файл
                    mv "$filename" "$directory"
                    echo "Файл $filename успешно перемещен в каталог $directory"
                else
                    echo "Ошибка: указанный каталог не существует" >&2
                fi
            else
                echo "Ошибка: файл с таким именем не существует" >&2
            fi
            ;;
        *)
            echo "Ошибка: некорректная операция" >&2
            ;;
    esac
    
    # Проверяем, хочет ли пользователь продолжить работу
    echo "Продолжить? (да / нет)"
    read response
    if [ "$response" != "да" ]
    then
        # Выходим из цикла
        break
    fi
done

# Выводим сообщение о завершении работы и возвращаем код возврата
echo "Работа программы завершена"
exit 0
